
<!--more-->
>[题目链接](http://acm.hdu.edu.cn/showproblem.php?pid=1465)

### 题目意思： ###
N个信封，全部装错位置的种类有多少种。
### 解题思路： ###
这是一道用错排公式可以解决的题目。
a[1]=0;
a[2]=1;
a[n]=(n-1)*(a[n-1]+a[n-2]);
即可。
### 错排公式讲解： ###
n封信放入n个信封，要求全部放错，共有多少种放法，记n个元素的错排总数为f(n)。

现在有n封信和n个信封，如果所有的信都装错了信封，求共有多少种错误方法。

当n=1和2时，易知道，假设F(n-1)和F(n-2)已经知道，重点分析下边的情况：

1. 当有n封信的时候，前边n-1封信或者n-2封信错装。
2. 前者，对于每一种错装，可以从前n-1封信中任选一封与第n封交换，那么就全部错装了。这种情况共有F(n-1)*(n-1)种方法。
3. 后者，只能将没装错的那封信与第n封信交换，没装错的那封信可以是前n-1封信中的任意一封，这种情况共有F(n-2)*(n-1)种F方法。

### 代码部分： ###

```cpp
#include<iostream>
#include<stdio.h>
#include<string.h>
#define LL long long int
using namespace std;

int main()
{
    LL a[21];
    a[1] = 0;
    a[2] = 1;
    for(int i = 3; i <= 20; i++)
        a[i] = (i - 1)*(a[i - 1] + a[i - 2]);
    int n;
    while(cin >> n)
    {
        cout << a[n] << endl;
    }
    return 0;
}

```
